Создать текстовый файл с записями следующего вида:
Иванов Петр Сергеевич 1975
Сидоров Николай Андреевич 1981
….
Воробьянинов Ипполит Матвеевич 1978
Прочитать данные из этого файла и записать в другой только те строки, которые относятся к родившимся позднее 1980 года.


#include <stdio.h>
#include <stdlib.h>

int main() {
    FILE *f1, *f2;
    
    f1 = fopen("input.txt", "r");
    f2 = fopen("output.txt", "w");
    
    char first_name[20]; 
    char last_name[20];
    char middle_name[20];
    int year;

    while (fscanf(f1, "%s %s %s %d", last_name, first_name, middle_name, &year)==4) 
    {
        if (year > 1980) 
        {
            fprintf(f2, "%s %s %s %d\n", last_name, first_name, middle_name, year);
        }
    }

    fclose(f1);
    fclose(f2);

    return 0;
}


1. Включаем необходимые заголовочные файлы: stdio.h для работы с файлами, и stdlib.h для использования функции exit().

2. Основная функция main():
   
   a. Объявляем указатели на файлы input_file и output_file, а также массивы символов для хранения имени, фамилии, отчества и года рождения.
   
   b. Открываем файлы input.txt для чтения и output.txt для записи.
   
   c. Проверяем, открылись ли файлы успешно.
   
   d. В цикле while считываем данные из input_file при помощи функции fscanf(). Формат строки для чтения данных: строка с фамилией, именем, отчеством и годом рождения.
   
   e. Проверяем, если год рождения больше 1980, то записываем все считанные данные в файл output_file с помощью функции fprintf().
   
   f. Повторяем шаги d и e, пока файл не закончится.
   
   g. Закрываем файлы input_file и output_file.
   
3. Возвращаем 0, как признак успешного выполнения программы.

Таким образом, данный код считывает данные из файла input.txt, фильтрует записи по году рождения (оставляя только те, которые позже 1980 года) и записывает их в файл output.txt.





Данная строка кода выполняет считывание данных из файла f1 в формате, заданном строкой "%s %s %s %d". Разберем ее подробнее:

1. fscanf(f1, ...): Функция fscanf() считывает данные из потока f1 (в данном случае из файла) и анализирует их в соответствии с указанным форматом.

2. "%s %s %s %d": Это строка формата, которая указывает, какие данные и в каком формате мы ожидаем считать из файла:
   - %s - строка (для фамилии, имени и отчества);
   - %d - целое число (для года рождения);
   - Пробелы используются для разделения данных.

3. last_name, first_name, middle_name, &year: Переменные, в которые будут сохранены считанные данные из файла:
   - last_name, first_name, middle_name - строки для хранения фамилии, имени и отчества;
   - &year - указатель на переменную типа int для хранения года рождения.

4. ==4: Это условие проверяет, соответствует ли количество успешно считанных значений указанному формату (4 значения: фамилия, имя, отчество, год). Если количество успешно считанных значений не равно 4, то цикл прекращается, так как файл закончился или формат данных не соответствует ожидаемому.

Таким образом, эта строка кода определяет правило считывания данных из файла: пока возможно считать строку в формате "фамилия имя отчество год", цикл будет выполняться.

