Реализовать программу-калькулятор с возможностью выполнения арифметических действий (+, -), унарный и бинарный вариант. 
У пользователя запрашивается выражение, например, "-123.5 + 4 - 456+56", программа должна решить выражение. 
Для разбора входной строки использовать функцию strok.

#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <locale.h>
 
double calculate(const char* s){
    char*  p, c;
    double n, sum = strtod(s, &p);
    if(s == p)
        return 0.0;
 
    for(s = p; *s; s = p){
        while(*s && isspace(*s))
            ++s;
        if(! *s)
            break;
 
        c = *s++;
        n = strtod(s, &p);
        if(s == p)
            break;
 
        switch(c){
        case '+':
            sum += n;
            break;
        case '-':
            sum -= n;
            break;
        default:
            return 0.0;
        }
    }
    return sum;
}
 
int main(void){
    char s[128];
    fgets(s, sizeof(s), stdin);
    printf("Ответ: %lg\n", calculate(s));
    return 0;
}
